<section class="min-h-screen">
  <div class="flex justify-center items-center pt-20">
    <form
      class="border-1 border-gray-400 rounded-xl w-xl shadow-[0_0px_35px_rgba(0,0,0,0.25)]"
    >
      <div class="relative">
        <button
          *ngIf="currentStep === 1"
          type="button"
          routerLink="/login"
          class="absolute ml-10 top-1/2 transform -translate-y-1/2 cursor-pointer"
        >
          <lucide-icon name="chevron-left"></lucide-icon>
        </button>
        <button
          *ngIf="currentStep === 2 || currentStep === 3"
          type="button"
          (click)="previousStep()"
          class="absolute ml-10 top-1/2 transform -translate-y-1/2 cursor-pointer"
        >
          <lucide-icon name="chevron-left"></lucide-icon>
        </button>
        <h1 class="text-3xl font-bold py-6 text-center">Reset Password</h1>
      </div>
      <div *ngIf="currentStep === 1" class="flex flex-col px-10 py-5 gap-5">
        <div class="flex flex-col gap-3">
          <p>
            Please enter your email below, we'll email you a code to reset your
            password.
          </p>
        </div>
        <div class="flex flex-col gap-3">
          <label for="email">Email</label>
          <input
            class="border-1 rounded-sm h-10 px-3"
            type="email"
            id="email"
            name="email"
            placeholder="Enter your email"
            [(ngModel)]="email"
            required
          />
        </div>

        <div class="flex flex-col justify-center items-center gap-3">
          <button
            class="border-2 border-orange-700 w-full h-10 text-orange-700 cursor-pointer rounded-sm hover:bg-orange-700 hover:text-gray-100 ease-in-out duration-300"
            type="button"
            (click)="submit()"
            [disabled]="isLoading"
          >
            <span *ngIf="!isLoading">Reset Password</span>
            <span *ngIf="isLoading">Processing...</span>
          </button>
        </div>
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="text-red-500 text-center">
          {{ errorMessage }}
        </div>
      </div>

      <!-- code -------------------------------------------------------------------------------------------->

      <div *ngIf="currentStep === 2" class="flex flex-col px-10 py-5 gap-5">
        <div class="flex flex-col gap-3">
          <p>
            A code have been sent to your email. Please check your email and
            enter the code below.
          </p>
          <p class="text-sm text-gray-500 mt-1">
            If you don't receive the code,
            <button
              type="button"
              class="text-orange-700 underline cursor-pointer hover:text-orange-800"
              (click)="resendCode()"
              [disabled]="isLoading"
            >
              click here to resend
            </button>
          </p>
        </div>
        <div class="flex flex-col gap-3">
          <label for="code">Code</label>
          <input
            class="border-1 rounded-sm h-10 px-3 [-moz-appearance:textfield]"
            type="number"
            id="code"
            name="code"
            placeholder="Enter code"
            [(ngModel)]="code"
            required
          />
        </div>

        <div class="flex flex-col justify-center items-center gap-3">
          <button
            class="border-2 border-orange-700 w-full h-10 text-orange-700 cursor-pointer rounded-sm hover:bg-orange-700 hover:text-gray-100 ease-in-out duration-300"
            type="button"
            (click)="submit()"
            [disabled]="isLoading"
          >
            <span *ngIf="!isLoading">Reset Password</span>
            <span *ngIf="isLoading">Processing...</span>
          </button>
        </div>
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="text-red-500 text-center">
          {{ errorMessage }}
        </div>
      </div>

      <!-- code -------------------------------------------------------------------------------------------->

      <div *ngIf="currentStep === 3" class="flex flex-col px-10 py-5 gap-5">
        <div class="flex flex-col gap-3">
          <p>Please enter your new password below.</p>
        </div>
        <div class="flex flex-col gap-3">
          <label for="password">Password</label>
          <input
            class="border-1 rounded-sm h-10 px-3"
            type="password"
            id="password"
            name="password"
            placeholder="Enter your new password"
            [(ngModel)]="password"
            required
          />
        </div>
        <div class="flex flex-col gap-3">
          <label for="confirmPassword">Confirm Password</label>
          <input
            class="border-1 rounded-sm h-10 px-3"
            type="password"
            id="password"
            name="confirmPassword"
            placeholder="Enter your new password"
            [(ngModel)]="confirmPassword"
            required
          />
        </div>

        <div class="flex flex-col justify-center items-center gap-3">
          <button
            class="border-2 border-orange-700 w-full h-10 text-orange-700 cursor-pointer rounded-sm hover:bg-orange-700 hover:text-gray-100 ease-in-out duration-300"
            type="submit"
            (click)="submit()"
            [disabled]="isLoading"
          >
            <span *ngIf="!isLoading">Reset Password</span>
            <span *ngIf="isLoading">Processing...</span>
          </button>
        </div>
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="text-red-500 text-center">
          {{ errorMessage }}
        </div>
      </div>
    </form>
  </div>
</section>
